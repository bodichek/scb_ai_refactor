{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2>ðŸ“Š Moje vyplnÄ›nÃ© dotaznÃ­ky</h2>

  <table class="table table-striped mt-3">
    <thead>
      <tr>
        <th>Datum</th>
        <th>CelkovÃ© hodnocenÃ­</th>
        <th>Akce</th>
      </tr>
    </thead>
    <tbody>
      {% for b in batches %}
  <tr>
    <td colspan="3">{{ b }}</td>
  </tr>
{% endfor %}
    </tbody>
  </table>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll(".score-badge").forEach(el => {
    const score = parseFloat(el.dataset.score);
    if (isNaN(score)) return;
    const ratio = (score - 1) / 9;
    const hue = 0 + (120 * ratio);
    el.style.backgroundColor = `hsl(${hue}, 80%, 40%)`;
    el.style.color = "white";
    el.style.fontWeight = "bold";
  });
});
</script>
{% endblock %}
